<odoo>
    <data>

        <record id="quality_check_view_form" model="ir.ui.view">
            <field name="name">quality.check.view.form</field>
            <field name="model">quality.check</field>
            <field name="inherit_id" ref="quality_control.quality_check_view_form"/>

            <field name="arch" type="xml">
                <xpath expr="//field[@name='product_id']" position="replace">
                    <field name="product_id" readonly="1"/>
                </xpath>
                <xpath expr="//group[1]" position="before">
                    <h1>
                        <field name="title" readonly="1"/>
                    </h1>
                </xpath>
                <xpath expr="//field[@name='picking_id']" position="replace">
                    <field name="picking_id" readonly="1"/>
                </xpath>
                <xpath expr="//field[@name='measure']" position="replace">
                    <field name="measure"  attrs="{'readonly': [('quality_state', '!=', 'none')]}"/>
                </xpath>
                <xpath expr="//field[@name='point_id']" position="replace">
                    <field name="point_id" readonly="1"/>
                </xpath>
                <xpath expr="//field[@name='test_type_id']" position="replace">
                    <field string="Type" name="test_type_id" widget="selection"
                           attrs="{'readonly': [('test_type_id', '!=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='team_id']" position="replace">
                    <field name="team_id" readonly="1"/>
                </xpath>
                <xpath expr="//field[@name='partner_id']" position="replace">
                    <field name="partner_id" string="Partner" attrs="{'invisible': [('partner_id', '=', False)]}"
                           readonly="1"/>
                </xpath>



            </field>
        </record>

        <record id="quality_check_view_form_lot" model="ir.ui.view">
            <field name="name">quality.check.view.form</field>
            <field name="model">quality.check</field>
            <field name="inherit_id" ref="quality_mrp_workorder.quality_check_view_form_inherit_mrp_workorder"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='lot_id']" position="replace">
                    <field name="lot_id" readonly="1"/>
                </xpath>
                <xpath expr="//field[@name='finished_lot_id']" position="replace">
                    <field name="finished_lot_id" readonly="1"
                           attrs="{'invisible': [('finished_lot_id', '=', False)]}"/>
                </xpath>

            </field>
        </record>
        <record id="quality_check_view_form_inherit" model="ir.ui.view">
            <field name="name">quality.check.view.form</field>
            <field name="model">quality.check</field>
            <field name="inherit_id" ref="quality_control.quality_check_view_tree"/>
            <field name="arch" type="xml">

                  <xpath expr="//field[@name='name']" position="after">
                    <field name="title" readonly="1"/>
                </xpath>

            </field>
        </record>
        <record id="quality_check_view_form_production" model="ir.ui.view">
            <field name="name">quality.check.view.form</field>
            <field name="model">quality.check</field>
            <field name="inherit_id" ref="quality_mrp.quality_check_view_form_inherit_mrp"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='production_id']" position="replace">
                    <field name="production_id" readonly="1" attrs="{'invisible': [('production_id', '=', False)]}"/>
                </xpath>

            </field>
        </record>
        <record id="quality_check_view_form_small" model="ir.ui.view">
            <field name="name">quality.check.view.form</field>
            <field name="model">quality.check</field>
            <field name="inherit_id" ref="quality_control.quality_check_view_form_small"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="after">
                    :
                    <field name="lot_id" readonly="1" options="{'no_open': True}"/>
                    :
                    <field name="finished_lot_id" readonly="1" options="{'no_open': True}"/>
                </xpath>

            </field>
        </record>
        <!-- Inherit Form View to Modify it -->
        <record id="quality_alert_team_view_form" model="ir.ui.view">
            <field name="name">quality.alert.team</field>
            <field name="model">quality.alert.team</field>
            <field name="inherit_id" ref="quality_control.quality_alert_team_view_form"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='company_id']" position="after">
                    <field name="users_ids" widget="many2many_tags"/>
                    <field name="read_users_ids" widget="many2many_tags"/>
                </xpath>

            </field>
        </record>

    </data>
</odoo>