<odoo>
    <data>
          <record id="seq_payment_request" model="ir.sequence">
            <field name="name">grn.serial</field>
            <field name="code">payment.request</field>
            <field name="prefix">PR/%(y)s</field>
            <field name="padding">5</field>
        </record>
    <template id="report_payment_request">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-foreach="docs" t-as="o"  t-lang="o.create_uid.lang" >
                <div class="page">
            <div class="oe_structure"/>
            <div class="row">
                <div class="col-xs-6">

                </div>
                <div class="col-xs-5 col-xs-offset-1">
                    <div t-field="o.partner_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;name&quot;, &quot;phone&quot;, &quot;fax&quot;], &quot;no_marker&quot;: True, &quot;phone_icons&quot;: True}"/>
                        <p t-if="o.partner_id.vat">VAT: <span t-field="o.partner_id.vat"/></p>
                </div>
            </div>

            <h2>Payment Request # <span t-field="o.name"/></h2>


            <div class="row mt32 mb32">
                <div t-if="o.order_id" class="col-xs-3">
                    <strong>Order Reference:</strong>
                    <p t-field="o.order_id"/>
                </div>

                <div t-if="o.order_date" class="col-xs-3">
                    <strong>Order Date:</strong>
                    <p t-field="o.order_date"/>
                </div> <div t-if="o.allowance_discount" class="col-xs-3">
                    <strong>Allowance Discount:</strong>
                <p  t-if="o.discount_rate" t-field="o.discount_rate" >%</p>
                    <p  t-if="o.discount" t-field="o.discount_rate" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                </div>
            </div>

            <table class="table table-condensed">
                <thead>
                    <tr>
                        <th><strong>Product</strong></th>
                        <th class="text-center"><strong>Picking</strong></th>
                        <th class="text-center"><strong>Taxes</strong></th>
                        <th class="text-center"><strong>Qty</strong></th>
                        <th class="text-center"><strong>Unit Price</strong></th>
                        <th class="text-center"><strong>SubTotal </strong></th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="o.line_ids" t-as="line">
                        <td>
                            <span t-field="line.product_id"/>
                        </td>
                        <td class="text-center">
                            <span t-field="line.picking_id.name"/>
                        </td>
                         <td>
                            <span t-esc="', '.join(map(lambda x: x.name, line.taxes_id))"/>
                        </td>
                        <td class="text-center">
                            <span t-field="line.qty"/>
                            <span t-field="line.uom_id.name" groups="product.group_uom"/>
                        </td>
                        <td class="text-center">
                            <span t-field="line.price_unit"/>
                        </td>
                        <td class="text-center">
                            <span t-field="line.price_total" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="row">
                <div class="col-xs-4 pull-right">
                    <table class="table table-condensed">
                        <tr class="border-black">
                            <td><strong>Total Without Taxes</strong></td>
                            <td class="text-right">
                                <span t-field="o.untaxed_amount" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                            </td>
                        </tr>
                        <tr>
                            <td>Taxes</td>
                            <td class="text-right">
                                <span t-field="o.taxed_amount" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                            </td>
                        </tr>
                        <tr class="border-black">
                            <td><strong>Total</strong></td>
                            <td class="text-right">
                                <span t-field="o.total_amount" t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
          <table class="table table-bordered">
    <thead>
    <tr>
        <th class="text-center">Prepared by</th>
        <th class="text-center">Approved by</th>
        <th class="text-center">Authorized by</th>
        <th class="text-center">Accountant Approval</th>
        <th class="text-center">Accountant Done</th>
    </tr>
    </thead>

                <tbody>
                    <tr>
                        <td  style="width:20%"><span t-if="o.create_uid" t-field="o.create_uid.segimage" t-field-options="{'widget': 'image'}" style="height: 20px; width: 20px;"/></td>
                         <td style="width:20%"><span t-if="o.coach_id" t-field="o.coach_id.segimage" t-field-options="{'widget': 'image'}" style="height: 20px; width: 20px;"/></td>
                         <td style="width:20%"><span t-if="o.manager_id" t-field="o.manager_id.segimage" t-field-options="{'widget': 'image'}" style="height: 20px; width: 20px;"/></td>
                         <td style="width:20%"><span t-if="o.accountant_id" t-field="o.accountant_id.segimage" t-field-options="{'widget': 'image'}" style="height: 20px; width: 20px;"/></td>
                         <td style="width:20%"><span t-if="o.accountant_m_id" t-field="o.accountant_m_id.segimage" t-field-options="{'widget': 'image'}" style="height: 20px; width: 20px;"/></td>
                    </tr>
                </tbody>

</table>

            <div class="oe_structure"/>
        </div>
                </t>
            </t>
         </t>
    </template>


      <report
            string="Payment Request"
            id="action_report_payment_request"
            model="payment.request"
            report_type="qweb-pdf"
            name="payment_request.report_payment_request"
            file="payment_request.report_payment_request"
        />






    </data>
</odoo>